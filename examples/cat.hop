import std::prelude::{swap}

fn main int **byte -> int {
    swap
    if 2 != {
        ~ "USAGE: cat <filename>" putlns 1
    } else {
        1 + read
        read_file
        if . 0 cast_to[*byte] == {
            ~ 1
        } else {
            . putlns free 0
        }
    }
}
